<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SVG 2 PNG</title>
  <style>
    body{
      font-family:sans-serif; padding:2rem;
      background:#111;color:#fff;border-radius:12px;
      user-select: none;
    }
    input{ margin-top:1rem; display:block }
    #output{ margin-top:1rem; max-width:100%;-webkit-user-drag:none;cursor:pointer; }
  </style>
</head>
<body>

<h2>SVG 2 PNG</h2>
<input type="number" id="px" placeholder="px" value="500">
<input type="file" id="svg" accept=".svg">
<img id="output" style="background:#222">
<canvas id="canvas" style="display:none;"></canvas>

<script>
  const px=document.getElementById('px');
  const svg=document.getElementById('svg');
  const output=document.getElementById('output');
  const convert=(f)=>{
    const file=f||svg.files[0];if(!file)return alert('Please select an SVG file.');
    const reader=new FileReader();
    reader.onload=function(e){
      const svgContent=e.target.result;

      const svgBlob=new Blob([svgContent],{type:'image/svg+xml;charset=utf-8'});
      const url=URL.createObjectURL(svgBlob);

      const img=new Image();
      img.onload=function(){
        const canvas=document.getElementById('canvas');
        const ctx=canvas.getContext('2d');
        const size=px.value;
        canvas.width=canvas.height=size;
        ctx.drawImage(img,0,0,size,size);
        output.src=canvas.toDataURL('image/png');
        output.style.display='block';
        URL.revokeObjectURL(url);
        output.onclick=()=>{
          const pngURL = canvas.toDataURL('image/png');
          const link = document.createElement('a');
          link.download = file.name.replace('.svg','.png')// + '-500x500-96dpi.png';
          link.href = pngURL;
          link.click();
        }
      };

      img.src = url;
    };

    reader.readAsText(file);
  }
  px.onchange=svg.onchange=()=>convert();
  //document.getElementById('svgFile').addEventListener('change',convert);

  window.ondragover=e=>{
    e.preventDefault();
    //const x=e.x-(window.innerWidth/2);
    //const y=e.y-(window.innerHeight/2);
    const items=e.dataTransfer.items;
    const[item]=items;console.log(item);
    document.body.style.boxShadow=
    item.kind=='file'&&
    (item.type.startsWith('image/svg')&&'0 0 0 3px #69ff69')||'0 0 0 3px #ff6969';
  };
  window.ondragleave=function(e){
    e.preventDefault();if(e.fromElement)return;
    //document.body.style.boxShadow=null;
  }
  window.ondrop=function(e){
    e.preventDefault();
    const files=e.dataTransfer.files;
    const[file]=files;console.log(file);
    if(!(file.type.startsWith('image/svg')))return alert("Incorrect file type.");
    return convert(file);
  }
</script>

</body>
</html>
